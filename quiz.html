<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ドキドキ</title>
    <link rel="stylesheet" href="css/quiz.css">
</head>
<body>
    <main>

        <section>
          <h1>ドキドキ２択クイズ</h1>
        </section>
    
    
        <section>
          <h2 id="quiz_rule">クイズのルール</h2>
        </section>
    

    
    
        <section>
          
          <ul>
            <li>考える時間は、15秒</li>
            <li>もし間違えたら即失格(今回のGEEKは諦めろ)</li>
            <li>①か、②で答えること</li>
            <li>①か、②の他や曖昧な答えは全て間違いとみなす</li>
          </ul>
    
        </section>
    
    
        <section>
          <h2>それでは問題</h2>
        </section>
    
        <section id="quiz_content">
          <p>お前の母親と恋人が悪党に捕まり、</p>
          <p>一人しか助けられない。</p>
        </section>
        
    
        <section  id="result">
          <h2>回答は？？</h2>
        </section>
    
    
        <section>
          <button id="button1">
            <h2>①</h2>
            <p id="answer1">母親</p>
          </button>
          <button id="button2">
            <h2>②</h2>
          <p id="answer2">恋人</p></button>
        </section>

        <!-- <div class="container">
            <div id="count">10</div>

        </div> -->

        <!-- <div class="timer" id="countdown">00:00:00</div> -->
        <div id="timer"></div>
    
      </main>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
      <script>
        //乱数を設定する
        // const random_number = Math.floor(Math.random()*3);

        //  ボタン１押下時の設定
        $("#button1").on("click",function(){
        //乱数を設定する
          const random_number = Math.floor(Math.random()*3);
          if (random_number === 0) {
            $("#quiz_content").text("ここから余計な発言をしたら即失格とする。さぁ答えな")
        
        } else if (random_number=== 1) {
          $("#quiz_content").text("息子と娘が誘拐された。一人しか取り戻せない。")
        
        }
    
          else {
            $("#quiz_content").text("５人のチームで活動している。どちらの道を選ぶ。")
        
        }
    
        // ボタン１のテキスト設定
        if (random_number === 0) {
            $("#answer1").text("クイズを受ける")
        
        } else if (random_number=== 1) {
          $("#answer1").text("娘")
        
        }
    
          else {
            $("#answer1").text("５人で行けるが長く困難な道")
        
        }
        // 暫定のリロード
        // $("#button1").on("click",function(){
        //     window.location.reload();

        // });
    
        // ボタン２のテキスト設定
    
        if (random_number === 0) {
            $("#answer2").text("受けない")
        
        } else if (random_number=== 1) {
          $("#answer2").text("息子")
        
        }
    
          else {
            $("#answer2").text("３人しか行けないが短く簡単な道")
        
        }
    
    
        });
    
        //ボタン２の押下時の設定 
    
        $("#button2").on("click",function(){
        //乱数を設定する
          const random_number = Math.floor(Math.random()*3);
          if (random_number === 0) {
            $("#quiz_content").text("ここから余計な発言をしたら即失格とする。さぁ答えな")
        
        } else if (random_number=== 1) {
          $("#quiz_content").text("息子と娘が誘拐された。一人しか取り戻せない。")
        
        }
    
          else {
            $("#quiz_content").text("５人のチームで活動している。どちらの道を選ぶ。")
        
        }
    
        if (random_number === 0) {
            $("#answer1").text("クイズを受ける")
        
        } else if (random_number=== 1) {
          $("#answer1").text("娘")
        
        }
    
          else {
            $("#answer1").text("５人で行けるが長く困難な道")
        
        }
    
        if (random_number === 0) {
            $("#answer2").text("受けない")
        
        } else if (random_number=== 1) {
          $("#answer2").text("息子")
        
        }
    
          else {
            $("#answer2").text("３人しか行けないが短く簡単な道")
        
        }
    
    
        });

        // // 暫定のリロード
        // $("#button2").on("click",function(){
        //     window.location.reload();

        // });
    
    

    
      </script>

      <!-- <script>
                window.onload = function(){
        const countDown = document.getElementById('countdown'); 
        const targetTime = new Date().getTime() + 10; 
        }

      </script> -->

      <script>
        const totalTime = 15000;
        const oldTime = Date.now();

        const timeId = setInterval(() => {
        const currentTime = Date.now();

        // 差分を求める
        const diff = currentTime - oldTime;

        const diffSec = totalTime - diff;

        //ミリ秒を整数に変換
        const remainSec = Math.ceil(diffSec / 1000);

        let text = `残り${remainSec}秒`;

         // 0秒以下になったら
        if (diffSec <= 0) {
        clearInterval(timeId);

        // タイマー終了の文言を表示する
        text = "ぶ〜、終〜了〜";
        }

        // 画面に表示する
        document.querySelector('#timer').innerHTML = text;
        })

        $("#button2").on('click', function() {
        });

      </script>

      <!-- <script>
        $("#button2").on('click', function() {
        let oldTime = null;
        let currentTime = null;
        clearInterval(timeId);

        const totalTime = 15000;
        const oldTime = Date.now();

        const timeId = setInterval(() => {
        const currentTime = Date.now();

        // 差分を求める
        const diff = currentTime - oldTime;

        const diffSec = totalTime - diff;

        //ミリ秒を整数に変換
        const remainSec = Math.ceil(diffSec / 1000);

        let text = `残り${remainSec}秒`;

         // 0秒以下になったら
        if (diffSec <= 0) {
        clearInterval(timeId);

        // タイマー終了の文言を表示する
        text = "ぶ〜、終〜了〜";
        }

        // 画面に表示する
        document.querySelector('#timer').innerHTML = text;
        })

        }); 
      </script>  -->

      <script>
        console.log(location.href)

        setTimeout(() => {
            location.href = "quiz copy.html"
        }, 16000);
      </script>

      <!-- <script>
        // ここでタイマーを定義しないと、クリアできなくなる
        let countdown = null;
        function testfunc() {
        // クリック時も、値を戻す
        time = 11;
        // 処理が二重にならないよう、ボタン押下時にいったんタイマークリア
        if (countdown) {
        clearInterval(countdown);
        }
        countdown = setInterval(function() {
        timer.textContent = '制限時間：' + --time + '秒';
        if(time <= 0){
        // カウントが終了したら、変数の値を戻す
        time = 11;
        clearInterval(countdown);
        }
        },1000);
        }

      </script> -->

    
</body>
</html>